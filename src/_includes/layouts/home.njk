{% extends 'layouts/base.njk' %}

{# Intro content #}
{% set introContent %}
{{ content | safe }}
{% endset %}

{# Post list content #}
{% set postListItems = collections.postFeed %}

{# Archive link #}
{% if postListItems.length < collections.posts.length %}
  {% set paginationNextText = archiveButtonText %}
  {% set paginationNextUrl = '/archive' %}
{% endif %}

{% block content %}
  <main id="main-content" tabindex="-1">
    <header class="homepage">
      <div class="wrapper">
        <h1>{{heading}}</h1>
        <div class="homepage__wrapper">
          <div class="homepage__content">{{ introContent | safe }}</div>
          <div>
            <img loading="lazy" src="{{ introImage | url }}" alt="">
          </div>
        </div>
        <hr/>
      </div>

      <div class="wrapper">
        <h2 class="homepage__post-list-heading">
          <span class="homepage__post-list-icon">
            {{ '/src/_includes/icons/zap-icon.svg' | svgContents | safe  }}
          </span>
          Ãšltimos Posts
        </h2>
        <ul class="homepage__post-list">
          {% for post in postListItems %}
            <li>
              <a href="{{ post.url | url }}">{{ post.data.title }}</a>
            </li>
          {% endfor %}
        </ul>
        {% if paginationNextUrl %}
          <a href="{{ paginationNextUrl }}" class="button">{{ paginationNextText }}</a>
        {% endif %}
      </div>
    </header>
  </main>
{% endblock %}
